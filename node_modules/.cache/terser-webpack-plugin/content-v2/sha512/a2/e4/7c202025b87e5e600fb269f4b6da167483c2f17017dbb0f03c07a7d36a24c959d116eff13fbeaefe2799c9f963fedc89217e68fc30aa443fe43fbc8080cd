{"code":"(this.webpackJsonpmoviehub=this.webpackJsonpmoviehub||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){},13:function(e,t,n){\"use strict\";n.r(t);var c=n(1),a=n.n(c),r=n(5),s=n.n(r),i=(n(10),n(3)),o=n(2),j=(n(11),n(0)),u=function(e){return Object(j.jsx)(\"header\",{className:\"App-header\",children:Object(j.jsx)(\"h2\",{children:e.text})})},l=function(e){var t=e.movie,n=\"N/A\"===t.Poster?\"https://m.media-amazon.com/images/M/MV5BMTczNTI2ODUwOF5BMl5BanBnXkFtZTcwMTU0NTIzMw@@._V1_SX300.jpg\":t.Poster;return Object(j.jsxs)(\"div\",{className:\"movie\",children:[Object(j.jsx)(\"h2\",{children:t.Title}),Object(j.jsx)(\"div\",{children:Object(j.jsx)(\"img\",{width:\"200\",alt:\"The movie titled: \".concat(t.Title),src:n})}),Object(j.jsxs)(\"p\",{children:[\"(\",t.Year,\")\"]})]})},b=function(e){var t=Object(c.useState)(\"\"),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(j.jsxs)(\"form\",{className:\"search\",children:[Object(j.jsx)(\"input\",{value:a,onChange:function(e){r(e.target.value)},type:\"text\"}),Object(j.jsx)(\"input\",{onClick:function(t){t.preventDefault(),e.search(a),r(\"\")},type:\"submit\",value:\"SEARCH\"})]})},h={loading:!0,movies:[],errorMessage:null},d=function(e,t){switch(t.type){case\"SEARCH_MOVIES_REQUEST\":return Object(o.a)(Object(o.a)({},e),{},{loading:!0,errorMessage:null});case\"SEARCH_MOVIES_SUCCESS\":return Object(o.a)(Object(o.a)({},e),{},{loading:!1,movies:t.payload});case\"SEARCH_MOVIES_FAILURE\":return Object(o.a)(Object(o.a)({},e),{},{loading:!1,errorMessage:t.error});default:return e}},O=function(){var e=Object(c.useReducer)(d,h),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){fetch(\"https://www.omdbapi.com/?s=man&apikey=4a3b711b\").then((function(e){return e.json()})).then((function(e){a({type:\"SEARCH_MOVIES_SUCCESS\",payload:e.Search})}))}),[]);var r=n.movies,s=n.errorMessage,o=n.loading;return Object(j.jsxs)(\"div\",{className:\"App\",children:[Object(j.jsx)(u,{text:\"MOVIE HUB\"}),Object(j.jsx)(b,{search:function(e){a({type:\"SEARCH_MOVIES_REQUEST\"}),fetch(\"https://www.omdbapi.com/?s=\".concat(e,\"&apikey=4a3b711b\")).then((function(e){return e.json()})).then((function(e){\"True\"===e.Response?a({type:\"SEARCH_MOVIES_SUCCESS\",payload:e.Search}):a({type:\"SEARCH_MOVIES_FAILURE\",error:e.Error})}))}}),Object(j.jsx)(\"p\",{className:\"App-intro\",children:\"Sharing a few of our favourite movies\"}),Object(j.jsx)(\"div\",{className:\"movies\",children:o&&!s?Object(j.jsx)(\"span\",{children:\"loading... \"}):s?Object(j.jsx)(\"div\",{className:\"errorMessage\",children:s}):r.map((function(e,t){return Object(j.jsx)(l,{movie:e},\"\".concat(t,\"-\").concat(e.Title))}))})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById(\"root\")),p()}},[[13,1,2]]]);","name":"static/js/main.032f127b.chunk.js","map":{"version":3,"sources":["static/js/main.032f127b.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","objectSpread2","jsx_runtime","components_Header","props","Object","className","children","text","components_Movie","_ref","movie","poster","Poster","Title","width","alt","concat","src","Year","components_Search","_useState","_useState2","searchValue","setSearchValue","value","onChange","e","target","type","onClick","preventDefault","search","initialState","loading","movies","errorMessage","App_reducer","state","action","payload","error","src_components_App","_useReducer","_useReducer2","dispatch","fetch","then","response","json","jsonResponse","Search","Response","Error","map","index","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","a","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpmoviehub\"] = this[\"webpackJsonpmoviehub\"] || []).push([[0],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(5);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/components/App.css\nvar components_App = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Header.js\n//basically a functional component that renders the header tag with the text props.\nvar Header_Header=function Header(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"App-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:props.text})});};/* harmony default export */ var components_Header = (Header_Header);\n// CONCATENATED MODULE: ./src/components/Movie.js\nvar DEFAULT_PLACEHOLDER_IMAGE=\"https://m.media-amazon.com/images/M/MV5BMTczNTI2ODUwOF5BMl5BanBnXkFtZTcwMTU0NTIzMw@@._V1_SX300.jpg\";//because some movies retrieved from the API do not have images, so we will render a placeholder image instead of a broken link.\nvar Movie_Movie=function Movie(_ref){var movie=_ref.movie;var poster=movie.Poster===\"N/A\"?DEFAULT_PLACEHOLDER_IMAGE:movie.Poster;return/*#__PURE__*/ (//render movie title, image, and year\nObject(jsx_runtime[\"jsxs\"])(\"div\",{className:\"movie\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:movie.Title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{width:\"200\",alt:\"The movie titled: \".concat(movie.Title),src:poster})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"(\",movie.Year,\")\"]})]}));};/* harmony default export */ var components_Movie = (Movie_Movie);\n// CONCATENATED MODULE: ./src/components/Search.js\nvar Search_Search=function Search(props){//in the past, in order to handle internal state, we would have to create a class component\n//with hooks we can have a functional component handle its own internal state\nvar _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];//useState is a hooks API, accepts one argument which is the initial state, and then it returns an array containing the current state????\nvar handleSearchInputChanges=function handleSearchInputChanges(e){setSearchValue(e.target.value);//e输入框中的值给searchValue\n};var resetInputField=function resetInputField(){setSearchValue(\"\");//重制\n};var callSearchFunction=function callSearchFunction(e){e.preventDefault();props.search(searchValue);resetInputField();};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"search\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:searchValue,onChange:handleSearchInputChanges,type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onClick:callSearchFunction,type:\"submit\",value:\"SEARCH\"})]});};/* harmony default export */ var components_Search = (Search_Search);\n// CONCATENATED MODULE: ./src/components/App.js\nvar MOVIE_API_URL=\"https://www.omdbapi.com/?s=man&apikey=4a3b711b\";// you should replace this with yours\nvar initialState={loading:true,movies:[],errorMessage:null};var App_reducer=function reducer(state,action){//reducer：根据action不同，怎么改state//redux\nswitch(action.type){case\"SEARCH_MOVIES_REQUEST\"://action\n//updates our state object\nreturn Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{//改state\nloading:true,errorMessage:null});case\"SEARCH_MOVIES_SUCCESS\"://dispatch another action with the type SEARCH_MOVIES_SUCCESS that updates our state object making loading=false and movies = action.payload where the payload is the movies array gotten from OMDB.\nreturn Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{loading:false,movies:action.payload});case\"SEARCH_MOVIES_FAILURE\":return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{loading:false,errorMessage:action.error});default:return state;}};//the second hooks API: useEffect\n/*\n    useEffect Hook as componentDidMount, componentDidUpdate, and componentWillUnmount combined\n    perform side effects as data fetching, subscriptions, and manual DOM manipulations\n    */ //after 1st render componentDidMount and every update componentDidUpdate\n/* useEffect 相当于：\n   // for class components\n      componentDidUpdate(prevProps, prevState) {\n        if (prevState.count !== this.state.count) {\n          document.title = `You clicked ${this.state.count} times`;\n        }\n      }\n  // using hooks it will become\n      useEffect(() => {\n        document.title = `You clicked ${count} times`;\n      }, [count]); // Only re-run the effect if count changes\n   */var App_App=function App(){var _useReducer=Object(react[\"useReducer\"])(App_reducer,initialState),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];Object(react[\"useEffect\"])(function(){fetch(MOVIE_API_URL).then(function(response){return response.json();}).then(function(jsonResponse){dispatch({type:\"SEARCH_MOVIES_SUCCESS\",payload:jsonResponse.Search});});},[]);var search=function search(searchValue){dispatch({type:\"SEARCH_MOVIES_REQUEST\"});fetch(\"https://www.omdbapi.com/?s=\".concat(searchValue,\"&apikey=4a3b711b\")).then(function(response){return response.json();}).then(function(jsonResponse){if(jsonResponse.Response===\"True\"){dispatch({type:\"SEARCH_MOVIES_SUCCESS\",payload:jsonResponse.Search//action -> object\n});}else{dispatch({type:\"SEARCH_MOVIES_FAILURE\",error:jsonResponse.Error});}});};var movies=state.movies,errorMessage=state.errorMessage,loading=state.loading;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Header,{text:\"MOVIE HUB\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Search,{search:search}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"App-intro\",children:\"Sharing a few of our favourite movies\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"movies\",children:loading&&!errorMessage?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"loading... \"}):errorMessage?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"errorMessage\",children:errorMessage}):movies.map(function(movie,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Movie,{movie:movie},\"\".concat(index,\"-\").concat(movie.Title));})})]});};/* harmony default export */ var src_components_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 14)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\n//changed\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_components_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[13,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/sunyu/Desktop/Projects/MovieHub/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sunyu/Desktop/Projects/MovieHub/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sunyu/Desktop/Projects/MovieHub/node_modules/postcss-loader/src/index.js??postcss!/Users/sunyu/Desktop/Projects/MovieHub/src/index.css","/Users/sunyu/Desktop/Projects/MovieHub/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sunyu/Desktop/Projects/MovieHub/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sunyu/Desktop/Projects/MovieHub/node_modules/postcss-loader/src/index.js??postcss!/Users/sunyu/Desktop/Projects/MovieHub/src/components/App.css","/Users/sunyu/Desktop/Projects/MovieHub/src/components/Header.js","/Users/sunyu/Desktop/Projects/MovieHub/src/components/Movie.js","/Users/sunyu/Desktop/Projects/MovieHub/src/components/Search.js","/Users/sunyu/Desktop/Projects/MovieHub/src/components/App.js","/Users/sunyu/Desktop/Projects/MovieHub/src/reportWebVitals.js","/Users/sunyu/Desktop/Projects/MovieHub/src/index.js"],"names":["Header","props","text","DEFAULT_PLACEHOLDER_IMAGE","Movie","movie","poster","Poster","Title","Year","Search","useState","searchValue","setSearchValue","handleSearchInputChanges","e","target","value","resetInputField","callSearchFunction","preventDefault","search","MOVIE_API_URL","initialState","loading","movies","errorMessage","reducer","state","action","type","payload","error","App","useReducer","dispatch","useEffect","fetch","then","response","json","jsonResponse","Response","Error","map","index","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from \"react\";\n//basically a functional component that renders the header tag with the text props.\nconst Header = (props) => {\n  return (\n    <header className=\"App-header\">\n      <h2>{props.text}</h2>\n    </header>\n  );\n};\n\nexport default Header;","import React from \"react\";\nconst DEFAULT_PLACEHOLDER_IMAGE =\n  \"https://m.media-amazon.com/images/M/MV5BMTczNTI2ODUwOF5BMl5BanBnXkFtZTcwMTU0NTIzMw@@._V1_SX300.jpg\";\n//because some movies retrieved from the API do not have images, so we will render a placeholder image instead of a broken link.\n\nconst Movie = ({ movie }) => {\n  const poster =\n    movie.Poster === \"N/A\" ? DEFAULT_PLACEHOLDER_IMAGE : movie.Poster;\n  return (\n    //render movie title, image, and year\n    <div className=\"movie\">\n      <h2>{movie.Title}</h2>\n      <div>\n        <img\n          width=\"200\"\n          alt={`The movie titled: ${movie.Title}`}\n          src={poster}\n        />\n      </div>\n      <p>({movie.Year})</p>\n    </div>\n  );\n};\n\n\nexport default Movie;","import React, { useState } from \"react\";\n\nconst Search = (props) => {\n//in the past, in order to handle internal state, we would have to create a class component\n//with hooks we can have a functional component handle its own internal state\n  const [searchValue, setSearchValue] = useState(\"\");//useState is a hooks API, accepts one argument which is the initial state, and then it returns an array containing the current state????\n  const handleSearchInputChanges = (e) => {\n    setSearchValue(e.target.value);//e输入框中的值给searchValue\n  }\n\n  const resetInputField = () => {\n    setSearchValue(\"\")//重制\n  }\n\n  const callSearchFunction = (e) => {\n    e.preventDefault();\n    props.search(searchValue);\n    resetInputField();\n  }\n\n  return (\n      <form className=\"search\">\n        <input\n          value={searchValue}\n          onChange={handleSearchInputChanges}\n          type=\"text\"\n        />\n        <input onClick={callSearchFunction} type=\"submit\" value=\"SEARCH\" />\n      </form>\n    );\n}\n\nexport default Search;","import React, { useReducer, useEffect } from \"react\";\nimport \"./App.css\";\nimport Header from \"./Header\";\nimport Movie from \"./Movie\";\nimport Search from \"./Search\";\n\nconst MOVIE_API_URL = \"https://www.omdbapi.com/?s=man&apikey=4a3b711b\"; // you should replace this with yours\n\nconst initialState = {\n  loading: true,\n  movies: [],\n  errorMessage: null\n};\n\nconst reducer = (state, action) => {//reducer：根据action不同，怎么改state//redux\n  switch (action.type) {\n    case \"SEARCH_MOVIES_REQUEST\"://action\n      //updates our state object\n      return {\n        ...state,//改state\n        loading: true,\n        errorMessage: null\n      };\n    case \"SEARCH_MOVIES_SUCCESS\":\n      //dispatch another action with the type SEARCH_MOVIES_SUCCESS that updates our state object making loading=false and movies = action.payload where the payload is the movies array gotten from OMDB.\n      return {\n        ...state,\n        loading: false,\n        movies: action.payload\n      };\n    case \"SEARCH_MOVIES_FAILURE\":\n      return {\n        ...state,\n        loading: false,\n        errorMessage: action.error\n      };\n    default:\n      return state;\n  }\n};\n\n//the second hooks API: useEffect\n    /*\n    useEffect Hook as componentDidMount, componentDidUpdate, and componentWillUnmount combined\n    perform side effects as data fetching, subscriptions, and manual DOM manipulations\n    */\n   //after 1st render componentDidMount and every update componentDidUpdate\n   /* useEffect 相当于：\n   // for class components\n      componentDidUpdate(prevProps, prevState) {\n        if (prevState.count !== this.state.count) {\n          document.title = `You clicked ${this.state.count} times`;\n        }\n      }\n  // using hooks it will become\n      useEffect(() => {\n        document.title = `You clicked ${count} times`;\n      }, [count]); // Only re-run the effect if count changes\n   */\nconst App = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n    useEffect(() => {\n        fetch(MOVIE_API_URL)\n            .then(response => response.json())\n            .then(jsonResponse => {\n        \n            dispatch({\n                type: \"SEARCH_MOVIES_SUCCESS\",\n                payload: jsonResponse.Search\n        \t});\n      \t});\n  \t}, []);\n\n    const search = searchValue => {\n    \tdispatch({\n      \ttype: \"SEARCH_MOVIES_REQUEST\"\n    \t});\n        fetch(`https://www.omdbapi.com/?s=${searchValue}&apikey=4a3b711b`)\n      \t.then(response => response.json())\n      \t.then(jsonResponse => {\n        \tif (jsonResponse.Response === \"True\") {\n          \tdispatch({\n                type: \"SEARCH_MOVIES_SUCCESS\",\n                payload: jsonResponse.Search//action -> object\n          \t});\n        \t} else {\n          \tdispatch({\n                type: \"SEARCH_MOVIES_FAILURE\",\n                error: jsonResponse.Error\n          \t});\n          }\n      \t});\n\t  };\n\n    const { movies, errorMessage, loading } = state;\n\n    return (\n    <div className=\"App\">\n      <Header text=\"MOVIE HUB\" />\n      <Search search={search} />\n      <p className=\"App-intro\">Sharing a few of our favourite movies</p>\n      <div className=\"movies\">\n        {loading && !errorMessage ? (\n          <span>loading... </span>\n        ) : errorMessage ? (\n          <div className=\"errorMessage\">{errorMessage}</div>\n        ) : (\n          movies.map((movie, index) => (\n            <Movie key={`${index}-${movie.Title}`} movie={movie} />\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';//changed\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}